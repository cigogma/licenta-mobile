<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title> Station #1234 - Edit </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <app-station-form
    (formSubmit)="submit($event)"
    *ngIf="station$|async"
    [station]="station$|async"
  >
  </app-station-form>
  <div>
    <h2>Api keys</h2>
    <ion-list>
      <ion-item-sliding *ngFor="let key of keys$ | async">
        <ion-item>
          <ion-label position="stacked">{{key.name}}</ion-label>
          <ion-item readonly>{{key.token}}</ion-item>
        </ion-item>
        <ion-item-options side="start">
          <ion-item-option (click)="copyToClipboard(key)">
            <ion-icon name="copy-outline"></ion-icon>
          </ion-item-option>
        </ion-item-options>
        <ion-item-options side="end">
          <ion-item-option color="danger" (click)="deleteKey(key)">
            <ion-icon slot="icon-only" name="trash"></ion-icon>
          </ion-item-option>
        </ion-item-options>
      </ion-item-sliding>
      <ion-button expand="full" shape="round" (click)="newKey()">
        New Key
      </ion-button>
    </ion-list>
  </div>
</ion-content>
